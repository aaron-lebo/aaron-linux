#!/bin/bash 

# pacaur 
mkdir ~/builds 

aur() {
  cd ~/builds
  curl -L -O https://aur.archlinux.org/cgit/aur.git/snapshot/$1.tar.gz
  tar -xvf $1.tar.gz
  cd $1
  makepkg -sri --skippgpcheck
}

aur cower 
aur pacaur 

cd ~ 

# x
pacaur -S xorg-xinit xorg-server
echo '[[ -z $DISPLAY && $XDG_VTNR -eq 1 ]] && exec startx' >> ~/.bash_profile

# bspwm
pacaur -S bspwm sxhkd xfce4-terminal rofi
echo 'export XDG_CONFIG_HOME="$HOME/.config"' >> ~/.bash_profile
touch ~/.xinitrc
echo -e 'sxhkd &\nexec bspwm' >> ~/.xinitrc
mkdir ~/.config ~/.config/bspwm ~/.config/sxhkd
cp /usr/share/doc/bspwm/examples/bspwmrc ~/.config/bspwm/ 
sed -i 's/\(0.5\)2/\1/' ~/.config/bspwm/bspwmrc
cp /usr/share/doc/bspwm/examples/sxhkdrc ~/.config/sxhkd/
sed -i 's/urxvt/xfce4-terminal/' ~/.config/sxhkd/sxhkdrc
sed -i 's/dmenu_run/rofi -show run -font "Ubuntu Mono 11" -fg "#b3bdcb" -bg "#2a303b" -hlfg "#e1e5ea" -hlbg "#5294e2"/' ~/.config/sxhkd/sxhkdrc
chmod +x ~/.config/bspwm/bspwmrc

# infinality
echo -e '\n[infinality-bundle]\nServer = http://bohoomil.com/repo/$arch' | sudo tee -a /etc/pacman.conf
echo -e '\n[infinality-bundle-multilib]\nServer = http://bohoomil.com/repo/multilib/$arch' | sudo tee -a /etc/pacman.conf
echo -e '\n[infinality-bundle-fonts]\nServer = http://bohoomil.com/repo/fonts' | sudo tee -a /etc/pacman.conf
sudo dirmngr < /dev/null
sudo pacman-key -r 962DDE58
sudo pacman-key --lsign-key 962DDE58
pacaur -Syu infinality-bundle infinality-bundle-multilib ibfonts-meta-base ibfonts-meta-extended

# theme & appearance
pacaur -S gtk-theme-arc-git lxappearance feh compton 
feh --bg-scale ~/aaron-linux/wallpaper.png 
sed -i '1i\sh ~/.fehbg &' ~/.xinitrc
sed -i '2i\compton -b' ~/.xinitrc

# utilities
pacaur -S firefox
